local y_1, y_2: bool where y_1 = false & y_2 = false;
      s       : int  where s = 1;

P_1 :: [
   l_0: loop forever do [
      l_1: noncritical;
      l_2: (y_1, s) := (true, 1);
      l_3: await (~y_2 | s != 1);
      l_4: critical;
      l_5: y_1 := false;
   ]
]
||
P_2 :: [
   m_0: loop forever do [
      m_1: noncritical;
      m_2: (y_2, s) := (true, 2);
      m_3: await (~y_1 | s != 2);
      m_4: critical;
      m_5: y_2 := false;
   ]
]
